<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#4f46e5">
    <meta name="description" content="Avalie a sua experiencia de atendimento">
    <title>Avaliacao de Satisfacao</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body class="public-page">
    <main class="container" role="main">
        <header class="header-public">
            <h1 id="page-title">Como foi o seu atendimento?</h1>
            <p class="subtitle">Toque no botao que melhor representa a sua experiencia</p>
        </header>
        
        <div class="buttons" id="buttons" role="group" aria-labelledby="page-title">
            <button 
                class="btn muito-satisfeito" 
                data-grau="muito_satisfeito" 
                onclick="registar('muito_satisfeito')"
                aria-label="Muito Satisfeito"
                tabindex="0">
                <span class="emoji" aria-hidden="true">&#128513;</span>
                <span class="label">Muito Satisfeito</span>
            </button>
            
            <button 
                class="btn satisfeito" 
                data-grau="satisfeito" 
                onclick="registar('satisfeito')"
                aria-label="Satisfeito"
                tabindex="0">
                <span class="emoji" aria-hidden="true">&#128578;</span>
                <span class="label">Satisfeito</span>
            </button>
            
            <button 
                class="btn insatisfeito" 
                data-grau="insatisfeito" 
                onclick="registar('insatisfeito')"
                aria-label="Insatisfeito"
                tabindex="0">
                <span class="emoji" aria-hidden="true">&#128543;</span>
                <span class="label">Insatisfeito</span>
            </button>
        </div>
        
        <div class="mensagem" id="mensagem" style="display: none;" role="alert" aria-live="polite">
            <span class="emoji-grande" aria-hidden="true">&#10004;</span>
            <h2>Obrigado!</h2>
            <p>A sua avaliacao foi registada com sucesso.</p>
            <div class="countdown" id="countdown">
                <span class="countdown-text">Nova avaliacao disponivel em</span>
                <span class="countdown-timer" id="timer">{{ timeout }}</span>
                <span class="countdown-text">segundos</span>
            </div>
        </div>
        
        <div class="loading" id="loading" style="display: none;" role="status" aria-live="polite">
            <div class="spinner"></div>
            <p>A registar avaliacao...</p>
        </div>
    </main>
    
    <footer class="footer-public">
        <p>Sistema de Avaliacao de Satisfacao &copy; 2026</p>
    </footer>
    
    <script>
        const TIMEOUT_SEGUNDOS = {{ timeout }};
    </script>
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>
